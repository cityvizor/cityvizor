<div class="container">
	<div class="row hidden">
		<div class="col-sm-6 text-center">
			<h4>Příjmy</h4>
			<br>
			<svg height="200px" width="200px" viewBox="0 0 1000 1000">
				<g>
					<g *ngIf="dashboard.income">
						<g *ngFor="let bar of dashboard.income;let i = index">

							<text [attr.x]="100 + getIncBarWidth()/2 + i * (getIncBarWidth() + 50)" y="120" style="fill:#2581C4;font-size:80px;text-anchor:middle;">{{bar.budgetAmount | money:0:true}}</text>

							<rect [attr.x]="100 + i * (getIncBarWidth() + 50)" [attr.width]="getIncBarWidth()" [attr.y]="100" [attr.height]="700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount" fill="#ADF" stroke="#fff" stroke-width="5" />
							<text [attr.x]="100 + getIncBarWidth()/2 + i * (getIncBarWidth() + 50)" y="285" style="fill:#fff;font-size:80px;text-anchor:middle;">{{bar.budgetAmount - bar.expenditureAmount | money:0:true}}</text>

							<rect [attr.x]="100 + i * (getIncBarWidth() + 50)" [attr.width]="getIncBarWidth()" [attr.y]="100 + 700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount"  [attr.height]="700 * bar.expenditureAmount/bar.budgetAmount" fill="#2581C4" stroke="#fff" stroke-width="5" />
							<text [attr.x]="100 + getIncBarWidth()/2 + i * (getIncBarWidth() + 50)" [attr.y]="285 + 700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount" style="fill:#fff;font-size:80px;text-anchor:middle;">{{bar.expenditureAmount | money:0:true}}</text>

							<text [attr.x]="100 + getIncBarWidth()/2 + i * (getIncBarWidth() + 50)" y="990" style="fill:#333;font-size:80px;text-anchor:middle;">{{bar.year}}</text>
						</g>
					</g>

					<line x1="0" y1="900" x2="1000" y2="900" style="stroke:#999;stroke-width:2;font-size:40px;text-anchor:middle;" />
				</g>
			</svg>
		</div>

		<div class="col-sm-6 text-center">
			<h4>Výdaje</h4>
			<br>
			<svg height="200px" width="200px" viewBox="0 0 1000 1000">
				<g>
					<g *ngIf="dashboard.expenditures">
						<g *ngFor="let bar of dashboard.expenditures;let i = index">

							<text [attr.x]="100 + getExpBarWidth()/2 + i * (getExpBarWidth() + 50)" y="120" style="fill:#2581C4;font-size:80px;text-anchor:middle;">{{bar.budgetAmount | money:0:true}}</text>

							<rect [attr.x]="100 + i * (getExpBarWidth() + 50)" [attr.width]="getExpBarWidth()" [attr.y]="200" [attr.height]="700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount" fill="#ADF" stroke="#fff" stroke-width="5" />
							<text [attr.x]="100 + getExpBarWidth()/2 + i * (getExpBarWidth() + 50)" y="285" style="fill:#fff;font-size:50px;text-anchor:middle;">{{bar.budgetAmount - bar.expenditureAmount | money:0:true}}</text>

							<rect [attr.x]="100 + i * (getExpBarWidth() + 50)" [attr.width]="getExpBarWidth()" [attr.y]="200 + 700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount"  [attr.height]="700 * bar.expenditureAmount/bar.budgetAmount" fill="#2581C4" stroke="#fff" stroke-width="5" />
							<text [attr.x]="100 + getExpBarWidth()/2 + i * (getExpBarWidth() + 50)" [attr.y]="285 + 700 * (bar.budgetAmount - bar.expenditureAmount)/bar.budgetAmount" style="fill:#fff;font-size:50px;text-anchor:middle;">{{bar.expenditureAmount | money:0:true}}</text>

							<text [attr.x]="100 + getExpBarWidth()/2 + i * (getExpBarWidth() + 50)" y="990" style="fill:#333;font-size:80px;text-anchor:middle;">{{bar.year}}</text>
						</g>
					</g>

					<line x1="0" y1="900" x2="1000" y2="900" style="stroke:#999;stroke-width:2;" />
				</g>
			</svg>
		</div>
	</div>
	<div class="row hidden">
		<div class="col-sm-12 text-center">
			<i class="fa fa-square" aria-hidden="true" style="color:#2581C4;"></i> Čerpáno
				&nbsp;&nbsp;&nbsp;
			<i class="fa fa-square" aria-hidden="true" style="color:#ADF;"></i> Zbývá vyčerpat
		</div>
	</div>


	<div class="row">
		<div class="col-md-12">

			<h2 class="text-center">
				<i class="fa fa-calendar"></i>
				Aktuálně
			</h2>



		</div>
		
		<!--<div class="col-xs-1">
						<span *ngIf="payment.type=='Faktura'" class="fa-stack fa-2x">
								<i class="fa fa-circle fa-stack-2x text-specFaktura"></i>
								<i class="fa fa-file-o fa-stack-1x fa-inverse"></i>
						</span>
						<span *ngIf="payment.type=='Smlouva'" class="fa-stack fa-2x">
								<i class="fa fa-circle fa-stack-2x text-specSmlouva"></i>
								<i class="fa fa-handshake-o fa-stack-1x fa-inverse"></i>
						</span>
						<span *ngIf="payment.type=='Investiční akce'" class="fa-stack fa-2x">
								<i class="fa fa-circle fa-stack-2x text-specInvesticniAkce"></i>
								<i class="fa fa-laptop fa-stack-1x fa-inverse"></i>
						</span>
				</div>-->

		<div class="col-md-6">
			<div class="row news" *ngFor="let payment of payments">
				<div class="col-xs-10 col-xs-offset-1">
						<h5 class="service-heading">
							<strong>{{payment.counterpartyName}}</strong>
							<span class="label label-info">IČO {{payment.counterpartyId}}</span>
							<span *ngIf="payment.paragraph" class="label label-primary">&sect; {{payment.paragraph}}</span>
							<span *ngIf="payment.item" class="label label-success">RP {{payment.item}}</span>
						</h5>
						<p class="text-muted">{{payment.date | date:"d. M. y"}} {{payment.description}} <strong class="pull-right">{{payment.amount | money:0:false}} Kč</strong></p>
				</div>
			</div>
		</div>
		
		<div class="col-md-6">
			<div class="row news" *ngFor="let contract of contracts">
				<div class="col-xs-10 col-xs-offset-1">
						<h5 class="service-heading">
							<strong>{{contract.title}}</strong>
							<a [href]="contract.url" target="_blank" class="label label-info">otevřít v registru</a>
						</h5>
						<p class="text-muted">{{contract.date | date:"d. M. y"}} {{contract.counterparty}} <strong class="pull-right">{{contract.amount | money:0:false}} Kč</strong></p>
				</div>
			</div>
		</div>
		
	</div>

	<div class="row">
		<div class="col-sm-12">

			<h2 class="text-center">
				<i class="fa fa-balance-scale"></i>
				Saldo rozpočtů
			</h2>

			<svg viewBox="0 0 1000 250" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">


				<g *ngFor="let budget of budgets; let i = index;">
					<text [attr.x]="(i+1/2)*1000/4" [attr.y]="25" style="fill:#aaa;font-size:20px;text-anchor:middle;">{{budget.year}}</text>

					<path [attr.d]="'M '+((i+1/2)*1000/4-100)+',150 L '+((i+1/2)*1000/4+100)+',150'" stroke="#e0e0e0" stroke-width="1"/>

					<g>
						<path [attr.d]="getIncSemicirclePath(budget,i)" fill="#f0f0f0" stroke="#ffffff" stroke-width="1" />
						<path [attr.d]="getExpSemicirclePath(budget,i)" fill="#e0e0e0" stroke="#ffffff" stroke-width="1" />
						<path [attr.d]="getDiffSemicirclePath(budget,i)" [attr.fill]="getDiffSemicircleFill(budget,i)" stroke="#ffffff" stroke-width="1" />
						<!--
<path *ngIf="dashboardData.Inc.YearAmounts[i] < dashboardData.Exp.YearAmounts[i]" 
[attr.d]="getExpTrianglePath((i+1/2)*1000/4,150,20+70*(dashboardData.Exp.YearAmounts[i]-dashboardData.Inc.YearAmounts[i])/dashboardData.Exp.YearAmounts[i])" 
fill="#E73431" 
stroke="#ffffff" 
stroke-width="3" />
<path *ngIf="dashboardData.Inc.YearAmounts[i] > dashboardData.Exp.YearAmounts[i]" 
[attr.d]="getIncTrianglePath((i+1/2)*1000/4,150,20+70*(dashboardData.Inc.YearAmounts[i]-dashboardData.Exp.YearAmounts[i])/dashboardData.Inc.YearAmounts[i])" 
fill="#2581C4" 
stroke="#ffffff" 
stroke-width="3" />-->

						<text	[attr.x]="(i+1/2)*1000/4" 
									[attr.y]="(budget.expenditureAmount > budget.incomeAmount ? 170 : 145)" 
									[attr.fill]="(budget.expenditureAmount > budget.incomeAmount ? '#E73431' : '#2581C4')"
									style="font-weight: bold;font-size:20px;text-anchor:middle;">
							{{budget.expenditureAmount > budget.incomeAmount ? '' : '+'}} {{(budget.incomeAmount - budget.expenditureAmount) | money:0:true}}
						</text>
					</g>
				</g>
			</svg>
		</div>
	</div>

	<div class="row hidden">
		<div class="col-sm-6">
			<h4>
				<i class="fa fa-info-circle"></i>
				Výdaje
			</h4>
		</div>	
		<div class="col-sm-6">
			<h4>
				<i class="fa fa-info-circle"></i>
				Investiční akce
			</h4>
		</div>	
	</div>

	<div class="row">
		<div class="col-sm-6">
			<h4>
				<i class="fa fa-info-circle"></i>
				Základní údaje
			</h4>
			<div class="small">
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-map-signs"></i> Adresa</strong></div>
					<div class="col-xs-6 address">{{profile.entity.address | address}}</div>
				</div>
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-hashtag"></i> ZÚJ</strong></div>
					<div class="col-xs-6">{{profile.entity._id}}</div>
				</div>
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-hashtag"></i> IČO</strong></div>
					<div class="col-xs-6">{{profile.entity.ico}}</div>
				</div>
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-envelope"></i> Email</strong></div>
					<div class="col-xs-6">{{profile.entity.email}}</div>
				</div>
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-globe"></i> Datová schránka</strong></div>
					<div class="col-xs-6">{{profile.entity.dataBox}}</div>
				</div>
				<div class="row">
					<div class="col-xs-6"><strong><i class="fa fa-external-link"></i> Web</strong></div>
					<div class="col-xs-6"><a href="http://www.nmnm.cz" target="_blank">www.nmnm.cz</a></div>
				</div>
			</div>
		</div>
		<div class="col-sm-4 text-center hidden">
			<!-- MAPA -->
			<div>
				<profile-map [profiles]="[profile]"></profile-map>
			</div>
		</div>
		<div class="col-sm-6">
			<h4>
				<i class="fa fa-clock-o"></i>
				Provoz obecního úřadu
			</h4>
			<div class="row rowHours" *ngFor="let day of days;let i = index">
				<div class="col-xs-2 dayTitle">{{daysCZ[i]}}</div>
				<div class="col-xs-10 barHours">
					<div *ngFor="let openHours of profile.entity.openHours[day]" class="barHoursOpened" [style.margin-left]="getBarMarginLeft(openHours.from)+'%'"  [style.margin-right]="getBarMarginRight(openHours.to)+'%'">
						<div class="titleHours titleHoursStart">{{hour2string(openHours.from)}}</div>
						<div class="titleHours titleHoursEnd">{{hour2string(openHours.to)}}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>