<h2>
	{{name}}
</h2>

<div class="alert alert-info hidden">
	<strong>Popis investiční akce:</strong> Dům by měl zajistit komunitní bydlení pro starší, stále soběstačné lidi, s možností si přiobjednat různé služby od jejich poskytovatelů. Nájemníci musí splnit určitá kritéria, aby byl dodržen účel, za kterým byl dům postaven, což se týká například výše příjmu či absence vlastnictví jiného bydlení. Nájem má být srovnatelný s ostatními byty v majetku města.
	Na stavbu komunitního domu s dvaadvaceti byty, který vyjde na zhruba pětadvacet milionů, získalo město příslib evropské dotace ve výši dvanáct a půl milionu korun.
	<strong>Pouze ilustrativní popis investiční akce!</strong>
</div>

<h2>Faktury  a platby</h2>


<table *ngIf="counterparties" class="table table-responsive small">
	<thead>
		<tr>
			<th>Dodavatel</th>
			<th>IČO</th>
			<th>Příjem/výdaj</th>
			<th>Datum</th>
			<th>Popis</th>
			<th>Částka</th>
		</tr>
	</thead>
	<tbody>
		<ng-container *ngFor="let counterparty of counterparties|array">
			<tr *ngFor="let payment of counterparty.incomes;let j = index">
				<ng-container *ngIf="j === 0">
					<td [attr.rowspan]="counterparty.incomes.length + counterparty.expenditures.length">{{counterparty.id}}</td>
					<td [attr.rowspan]="counterparty.incomes.length + counterparty.expenditures.length">{{counterparty.name}}</td>
				</ng-container>
				<td *ngIf="j === 0" [attr.rowspan]="counterparty.incomes.length">Příjem</td>
				<td>{{payment.date | date:"d. M. y"}}</td>
				<td>{{payment.description}}</td>
				<td class="text-right">{{payment.amount | money:0:false}} Kč</td>
			</tr>
			<tr *ngFor="let payment of counterparty.expenditures;let j = index">
				<ng-container *ngIf="j === 0 && !counterparty.incomes.length">
					<td [attr.rowspan]="counterparty.incomes.length + counterparty.expenditures.length">{{counterparty.id}}</td>
					<td [attr.rowspan]="counterparty.incomes.length + counterparty.expenditures.length">{{counterparty.name}}</td>
				</ng-container>
				<td *ngIf="j === 0" [attr.rowspan]="counterparty.expenditures.length">Výdaj</td>
				<td>{{payment.date | date:"d. M. y"}}</td>
				<td>{{payment.description}}</td>
				<td class="text-right">{{payment.amount | money:0:false}} Kč</td>
			</tr>
		</ng-container>
	</tbody>
</table>


<h2>
	Rozpočty
</h2>
<div *ngIf="budgets">
	<div *ngFor="let budget of budgets">


		<h3>Rozpočet - {{budget.year}}</h3>

		<table class="table table-responsive small">
			<thead>
				<tr>
					<th>Celkový rozpočet za rok</th>
					<th>Celkové výdaje za rok</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{budget.budgetExpenditureAmount | money:0:true}}</td>
					<td>{{budget.expenditureAmount | money:0:true}}</td>
				</tr>
			</tbody>
		</table>

		<table class="table table-responsive table-title-number-number small">
			<thead>
				<tr>
					<th>Paragraf</th>
					<th class="text-right">Rozpočet</th>
					<th class="text-right">Skutečné výdaje</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let paragraph of budget.paragraphs">
					<td>{{paragraphNames[paragraph.id]}}</td>
					<td class="text-right">{{paragraph.budgetExpenditureAmount | money:0:true}} Kč</td>
					<td class="text-right">{{paragraph.expenditureAmount | money:0:true}} Kč</td>
					<td></td>
				</tr>
			</tbody>
		</table>

		<table class="table table-responsive table-title-number-number small">
			<thead>
				<tr>
					<th>Rozpočtová položka</th>
					<th class="text-right">Rozpočet</th>
					<th class="text-right">Skutečné výdaje</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let item of budget.items">
					<td>{{itemNames[item.id]}}</td>
					<td class="text-right">{{item.budgetExpenditureAmount | money:0:true}} Kč</td>
					<td class="text-right">{{item.expenditureAmount | money:0:true}} Kč</td>
					<td></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>